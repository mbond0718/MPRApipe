WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.
Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.
To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.
Keyring is skipped due to an exception: [Errno 2] No such file or directory
Collecting snakemake==5.10.0
  Using cached snakemake-5.10.0.tar.gz (200 kB)
Requirement already satisfied: wrapt in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.12.1)
Requirement already satisfied: requests in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (2.25.1)
Requirement already satisfied: ratelimiter in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.2.0.post0)
Requirement already satisfied: pyyaml in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (5.4.1)
Requirement already satisfied: configargparse in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (0.13.0)
Requirement already satisfied: appdirs in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.4.3)
Requirement already satisfied: datrie in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (0.7.1)
Requirement already satisfied: jsonschema in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (3.2.0)
Requirement already satisfied: docutils in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (0.14)
Requirement already satisfied: gitpython in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (3.1.0)
Requirement already satisfied: psutil in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (5.7.0)
Requirement already satisfied: nbformat in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (4.4.0)
Requirement already satisfied: toposort in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.5)
Requirement already satisfied: chardet<5,>=3.0.2 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from requests->snakemake==5.10.0->-r config/requirements.txt (line 1)) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from requests->snakemake==5.10.0->-r config/requirements.txt (line 1)) (2018.8.24)
Requirement already satisfied: idna<3,>=2.5 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from requests->snakemake==5.10.0->-r config/requirements.txt (line 1)) (2.7)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from requests->snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.23)
Requirement already satisfied: importlib-metadata; python_version < "3.8" in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.6.1)
Requirement already satisfied: six>=1.11.0 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (1.11.0)
Requirement already satisfied: pyrsistent>=0.14.0 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (0.16.0)
Requirement already satisfied: attrs>=17.4.0 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (18.2.0)
Requirement already satisfied: setuptools in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (53.0.0)
Requirement already satisfied: gitdb<5,>=4.0.1 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from gitpython->snakemake==5.10.0->-r config/requirements.txt (line 1)) (4.0.2)
Requirement already satisfied: traitlets>=4.1 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from nbformat->snakemake==5.10.0->-r config/requirements.txt (line 1)) (4.3.2)
Requirement already satisfied: ipython-genutils in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from nbformat->snakemake==5.10.0->-r config/requirements.txt (line 1)) (0.2.0)
Requirement already satisfied: jupyter-core in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from nbformat->snakemake==5.10.0->-r config/requirements.txt (line 1)) (4.4.0)
Requirement already satisfied: zipp>=0.5 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from importlib-metadata; python_version < "3.8"->jsonschema->snakemake==5.10.0->-r config/requirements.txt (line 1)) (3.1.0)
Requirement already satisfied: smmap<4,>=3.0.1 in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from gitdb<5,>=4.0.1->gitpython->snakemake==5.10.0->-r config/requirements.txt (line 1)) (3.0.1)
Requirement already satisfied: decorator in /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages (from traitlets>=4.1->nbformat->snakemake==5.10.0->-r config/requirements.txt (line 1)) (4.3.0)
Installing collected packages: snakemake
  Attempting uninstall: snakemake
    Found existing installation: snakemake 5.13.0
    Not uninstalling snakemake at /nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages, outside environment /work/users/m/a/marielle/work/mprasnakemake/env
    Can't uninstall 'snakemake'. No files were found to uninstall.
    Running setup.py install for snakemake: started
    Running setup.py install for snakemake: finished with status 'done'
Successfully installed snakemake-5.10.0
WARNING: You are using pip version 20.0.2; however, version 21.3.1 is available.
You should consider upgrading via the '/work/users/m/a/marielle/work/mprasnakemake/env/bin/python3 -m pip install --upgrade pip' command.
/nas/longleaf/apps/python/3.6.6/lib/python3.6/site-packages/snakemake/workflow.py:17: FutureWarning: read_table is deprecated, use read_csv instead, passing sep='\t'.
  import subprocess
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 100
Job counts:
	count	jobs
	1	all
	1	bcMap
	1	buildReference
	1	variantBarcodeMap
	1	zipFastq
	5

[Thu Apr 13 12:54:55 2023]
rule zipFastq:
    input: bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq, bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq
    output: bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq.gz, bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq.gz
    log: bcMapOutput/logs/AD_BCMAP_zipFastq.err
    jobid: 2
    wildcards: group=AD_BCMAP


        gzip bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq
        gzip bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq
        
Submitted job 2 with external jobid '5425026'.
[Thu Apr 13 12:55:35 2023]
Finished job 2.
1 of 5 steps (20%) done

[Thu Apr 13 12:55:35 2023]
rule bcMap:
    input: bcMapOutput/AD_BCMAP_mpra_ad_posneg.txt, bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq.gz, bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq.gz
    output: bcMapOutput/fastq/AD_BCMAP_merged.fastq, bcMapOutput/fastq/AD_BCMAP_merged.txt, bcMapOutput/fastq/AD_BCMAP_unmerged1.fastq, bcMapOutput/fastq/AD_BCMAP_unmerged2.fastq, bcMapOutput/fastq/AD_BCMAP_bcMap.txt, bcMapOutput/AD_BCMAP_barcode_statistics.txt, bcMapOutput/AD_BCMAP_variant_statistics.txt, bcMapOutput/AD_BCMAP_variant_statistics.pdf
    log: bcMapOutput/logs/AD_BCMAP_bcMapping.err
    jobid: 3
    wildcards: group=AD_BCMAP


        module load r/4.2.2
        scripts/setup.sh
        module load python/2.7.12
        Rscript scripts/barcode_mapping.R bcMapOutput/AD_BCMAP_mpra_ad_posneg.txt bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq.gz bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq.gz bcMapOutput/fastq/AD_BCMAP_merged.fastq bcMapOutput/fastq/AD_BCMAP_merged.txt bcMapOutput/fastq/AD_BCMAP_unmerged1.fastq bcMapOutput/fastq/AD_BCMAP_unmerged2.fastq bcMapOutput/fastq/AD_BCMAP_bcMap.txt bcMapOutput/AD_BCMAP_barcode_statistics.txt bcMapOutput/AD_BCMAP_variant_statistics.txt bcMapOutput/AD_BCMAP_variant_statistics.pdf
        
Submitted job 3 with external jobid '5425034'.
Waiting at most 500 seconds for missing files.
[Thu Apr 13 12:56:25 2023]
Finished job 3.
2 of 5 steps (40%) done

[Thu Apr 13 12:56:25 2023]
rule variantBarcodeMap:
    input: bcMapOutput/AD_BCMAP_variant_statistics.txt
    output: bcMapOutput/AD_BCMAP_barcode.txt, bcMapOutput/AD_BCMAP_bcdatBarcodesUniq.txt, bcMapOutput/AD_BCMAP_bcdatBarcodesUniq_woN.txt, bcMapOutput/AD_BCMAP_unique_bcdat.rda
    log: bcMapOutput/logs/AD_BCMAP_variantBarcodeMap.err
    jobid: 4
    wildcards: group=AD_BCMAP


        module load r/4.2.1
        Rscript scripts/variant-barcode_map.R bcMapOutput/AD_BCMAP_variant_statistics.txt bcMapOutput/AD_BCMAP_barcode.txt bcMapOutput/AD_BCMAP_bcdatBarcodesUniq.txt bcMapOutput/AD_BCMAP_bcdatBarcodesUniq_woN.txt bcMapOutput/AD_BCMAP_unique_bcdat.rda
        
Submitted job 4 with external jobid '5425042'.
[Thu Apr 13 12:57:05 2023]
Finished job 4.
3 of 5 steps (60%) done

[Thu Apr 13 12:57:05 2023]
rule buildReference:
    input: bcMapOutput/AD_BCMAP_unique_bcdat.rda
    output: bcMapOutput/ref/AD_BCMAP.fasta, bcMapOutput/ref/AD_BCMAP.saf
    log: bcMapOutput/logs/AD_BCMAP_makeReference.err
    jobid: 5
    wildcards: group=AD_BCMAP


        module load r/4.2.2
        module load python/3.6.6
        Rscript scripts/reference_file.R bcMapOutput/AD_BCMAP_unique_bcdat.rda bcMapOutput/ref/AD_BCMAP.fasta bcMapOutput/ref/AD_BCMAP.saf
        
Submitted job 5 with external jobid '5425053'.
[Thu Apr 13 12:57:45 2023]
Finished job 5.
4 of 5 steps (80%) done

[Thu Apr 13 12:57:45 2023]
localrule all:
    input: bcMapOutput/AD_BCMAP_mpra_ad_posneg.txt, bcMapOutput/fastq/AD_BCMAP_merged_R1.fastq.gz, bcMapOutput/fastq/AD_BCMAP_merged_R2.fastq.gz, bcMapOutput/fastq/AD_BCMAP_merged.fastq, bcMapOutput/fastq/AD_BCMAP_merged.txt, bcMapOutput/fastq/AD_BCMAP_unmerged1.fastq, bcMapOutput/fastq/AD_BCMAP_unmerged2.fastq, bcMapOutput/fastq/AD_BCMAP_bcMap.txt, bcMapOutput/AD_BCMAP_barcode.txt, bcMapOutput/AD_BCMAP_bcdatBarcodesUniq.txt, bcMapOutput/AD_BCMAP_bcdatBarcodesUniq_woN.txt, bcMapOutput/AD_BCMAP_unique_bcdat.rda, bcMapOutput/ref/AD_BCMAP.fasta, bcMapOutput/ref/AD_BCMAP.saf
    jobid: 0

[Thu Apr 13 12:57:45 2023]
Finished job 0.
5 of 5 steps (100%) done
Complete log: /work/users/m/a/marielle/work/mprasnakemake/.snakemake/log/2023-04-13T125453.400501.snakemake.log
bcMapping workflow completed successfully!
Entire workflow completed successfully!
